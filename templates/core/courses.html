<!-- templates/core/courses.html -->
{% extends 'base.html' %}

{% block content %}
<h2>Наши курсы</h2>

<!-- Форма поиска -->
<form method="get" action="{% url 'courses' %}" class="search-form">
    <input type="text" name="search"
           value="{{ search_query }}"
           placeholder="Введите название курса..."
           class="search-input">
    <button type="submit" class="search-btn">Поиск</button>
    {% if search_query %}
    <a href="{% url 'courses' %}" class="clear-btn">Сбросить</a>
    {% endif %}
</form>

<!-- Список курсов -->
{% for course in courses %}
<div class="course-card">
    <a href="{% url 'course_detail' course.id %}">
        <h3>{{ course.title }}</h3>
    </a>
    <p>Код: {{ course.code }}</p>
    {% if course.description %}
    <p>{{ course.description|truncatewords:30 }}</p>
    {% endif %}
</div>
{% empty %}
<p>{% if search_query %}Курсы по запросу "{{ search_query }}" не найдены{% else %}Курсов пока нет{% endif %}</p>
{% endfor %}

<style>
.search-form {
    margin-bottom: 2rem;
    display: flex;
    gap: 10px;
    align-items: center;
}
.search-input {
    flex-grow: 1;
    padding: 10px;
    border: 2px solid #3498db;
    border-radius: 5px;
    font-size: 16px;
}
.search-btn, .clear-btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}
.search-btn {
    background: #3498db;
    color: white;
}
.clear-btn {
    background: #e74c3c;
    color: white;
    text-decoration: none;
    display: inline-block;
}
.course-card {
    background: white;
    padding: 1.5rem;
    margin-bottom: 1rem;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
</style>
{% endblock %}